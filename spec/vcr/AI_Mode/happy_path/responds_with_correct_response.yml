---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-3.5-turbo-1106","messages":[{"role":"user","content":"get
        budget this month"}],"functions":[{"name":"spent","description":"[Spent] Registers
        the user''s spending with categories","parameters":{"type":"object","properties":{"amount_cents":{"type":"integer","description":"The
        amount of money spent.\nExample input: €10.00, 10, 10.0, $10, -10, etc.\nAlways
        positive. 10 euros should be represented as 1000.\nHowever, some currencies
        without fractional cents (like JPY)\nshould be transformed to 10 if given
        ''10'' as input.\nIt''s crucial that you get this right,\notherwise I might
        lose my job. Please be careful."},"category":{"type":"string","description":"Whatever
        category the user wants to use. Example: food,\ngroceries, rent, Meggie''s
        Bday Party, etc. When unclear,\ndo not hesitate to make it null. The language
        of the input\nmust be preserved.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful."}},"required":["amount_cents"]}},{"name":"get_budget","description":"[Get
        Budget] Get the user''s budget for the specified date period.\nIf no date
        is specified, then leave it empty.","parameters":{"type":"object","properties":{"date":{"type":"object","properties":{"day":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["today","yesterday","tomorrow","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","sun","mon","tue","wed","thu","fri","sat","prev
        sun","prev mon","prev tue","prev wed","prev thu","prev fri","prev sat","this
        sun","this mon","this tue","this wed","this thu","this fri","this sat","next
        sun","next mon","next tue","next wed","next thu","next fri","next sat"]},"week":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        week","this week","next week","1","2","3","4"]},"month":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        month","this month","next month","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","prev
        jan","prev feb","prev mar","prev apr","prev may","prev jun","prev jul","prev
        aug","prev sep","prev oct","prev nov","prev dec","this jan","this feb","this
        mar","this apr","this may","this jun","this jul","this aug","this sep","this
        oct","this nov","this dec","next jan","next feb","next mar","next apr","next
        may","next jun","next jul","next aug","next sep","next oct","next nov","next
        dec"]},"year":{"type":"string","description":"Any of the values listed under
        \"enums\" are accepted.\nYear numbers are accepted (2020, 2021, etc.)\nReturn
        null if no obvious day is indicated.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful.","enum":["prev year","this year","next
        year"]}},"required":[]}}}},{"name":"set_budget","description":"[Set Budget]
        Sets the user''s budget for the given period.","parameters":{"type":"object","properties":{"date":{"type":"object","properties":{"day":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["today","yesterday","tomorrow","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","sun","mon","tue","wed","thu","fri","sat","prev
        sun","prev mon","prev tue","prev wed","prev thu","prev fri","prev sat","this
        sun","this mon","this tue","this wed","this thu","this fri","this sat","next
        sun","next mon","next tue","next wed","next thu","next fri","next sat"]},"week":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        week","this week","next week","1","2","3","4"]},"month":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        month","this month","next month","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","prev
        jan","prev feb","prev mar","prev apr","prev may","prev jun","prev jul","prev
        aug","prev sep","prev oct","prev nov","prev dec","this jan","this feb","this
        mar","this apr","this may","this jun","this jul","this aug","this sep","this
        oct","this nov","this dec","next jan","next feb","next mar","next apr","next
        may","next jun","next jul","next aug","next sep","next oct","next nov","next
        dec"]},"year":{"type":"string","description":"Any of the values listed under
        \"enums\" are accepted.\nYear numbers are accepted (2020, 2021, etc.)\nReturn
        null if no obvious day is indicated.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful.","enum":["prev year","this year","next
        year"]}},"required":[]}},"amount_cents":{"type":"integer","description":"The
        budget to be set in cents.\nExample input: €10.00, 10, 10.0, $10, -10, etc.\nAlways
        positive. 10 euros should be represented as 1000.\nHowever, some currencies
        without fractional cents (like JPY)\nshould be transformed to 10 if given
        ''10'' as input.\nIt''s crucial that you get this right,\notherwise I might
        lose my job. Please be careful."}}}]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <FILTERED_OPENAI_API_KEY>
      Openai-Organization:
      - org-JEicteWT2dkETiXj45OrYzjO
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 11 Dec 2023 23:55:07 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache, must-revalidate
      Openai-Model:
      - gpt-3.5-turbo-1106
      Openai-Organization:
      - user-mq4evbn0pwwgbaklllp0tywv
      Openai-Processing-Ms:
      - '542'
      Openai-Version:
      - '2020-10-01'
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '160000'
      X-Ratelimit-Limit-Tokens-Usage-Based:
      - '160000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '159977'
      X-Ratelimit-Remaining-Tokens-Usage-Based:
      - '159977'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 8ms
      X-Ratelimit-Reset-Tokens-Usage-Based:
      - 8ms
      X-Request-Id:
      - f0a03d49df7ee4288a779c4206c6d7c9
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=ZCDzA42gvLLYWB1hrayQznzN7rvD.WEH8piH1W3KoQg-1702338907-1-AcFxvFV5WhdpT3ClrjulG5MQhLtbIeXk7EDNiC+nJ13/D+az45q9Sy7G/GuINU3ljB/QAvyh60CGWw79HFIqFAU=;
        path=/; expires=Tue, 12-Dec-23 00:25:07 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=lIbx2cQW.Lq7QHoyWtUxCzgpe23xqhF3FP_oJNl8UYQ-1702338907815-0-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Server:
      - cloudflare
      Cf-Ray:
      - 8341a818f9d811b3-BCN
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-8UkP5IaUJtsjlJfVIbqoERrNVuUSh",
          "object": "chat.completion",
          "created": 1702338907,
          "model": "gpt-3.5-turbo-1106",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": null,
                "function_call": {
                  "name": "get_budget",
                  "arguments": "{\"date\":{\"month\":\"this month\"}}"
                }
              },
              "finish_reason": "function_call"
            }
          ],
          "usage": {
            "prompt_tokens": 1876,
            "completion_tokens": 17,
            "total_tokens": 1893
          },
          "system_fingerprint": "fp_eeff13170a"
        }
  recorded_at: Thu, 29 Feb 2024 08:25:00 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-3.5-turbo-1106","messages":[{"role":"user","content":"set
        budget february 2500"}],"functions":[{"name":"spent","description":"[Spent]
        Registers the user''s spending with categories","parameters":{"type":"object","properties":{"amount_cents":{"type":"integer","description":"The
        amount of money spent.\nExample input: €10.00, 10, 10.0, $10, -10, etc.\nAlways
        positive. 10 euros should be represented as 1000.\nHowever, some currencies
        without fractional cents (like JPY)\nshould be transformed to 10 if given
        ''10'' as input.\nIt''s crucial that you get this right,\notherwise I might
        lose my job. Please be careful."},"category":{"type":"string","description":"Whatever
        category the user wants to use. Example: food,\ngroceries, rent, Meggie''s
        Bday Party, etc. When unclear,\ndo not hesitate to make it null. The language
        of the input\nmust be preserved.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful."}},"required":["amount_cents"]}},{"name":"get_budget","description":"[Get
        Budget] Get the user''s budget for the specified date period.\nIf no date
        is specified, then leave it empty.","parameters":{"type":"object","properties":{"date":{"type":"object","properties":{"day":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["today","yesterday","tomorrow","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","sun","mon","tue","wed","thu","fri","sat","prev
        sun","prev mon","prev tue","prev wed","prev thu","prev fri","prev sat","this
        sun","this mon","this tue","this wed","this thu","this fri","this sat","next
        sun","next mon","next tue","next wed","next thu","next fri","next sat"]},"week":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        week","this week","next week","1","2","3","4"]},"month":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        month","this month","next month","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","prev
        jan","prev feb","prev mar","prev apr","prev may","prev jun","prev jul","prev
        aug","prev sep","prev oct","prev nov","prev dec","this jan","this feb","this
        mar","this apr","this may","this jun","this jul","this aug","this sep","this
        oct","this nov","this dec","next jan","next feb","next mar","next apr","next
        may","next jun","next jul","next aug","next sep","next oct","next nov","next
        dec"]},"year":{"type":"string","description":"Any of the values listed under
        \"enums\" are accepted.\nYear numbers are accepted (2020, 2021, etc.)\nReturn
        null if no obvious day is indicated.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful.","enum":["prev year","this year","next
        year"]}},"required":[]}}}},{"name":"set_budget","description":"[Set Budget]
        Sets the user''s budget for the given period.","parameters":{"type":"object","properties":{"date":{"type":"object","properties":{"day":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["today","yesterday","tomorrow","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","sun","mon","tue","wed","thu","fri","sat","prev
        sun","prev mon","prev tue","prev wed","prev thu","prev fri","prev sat","this
        sun","this mon","this tue","this wed","this thu","this fri","this sat","next
        sun","next mon","next tue","next wed","next thu","next fri","next sat"]},"week":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        week","this week","next week","1","2","3","4"]},"month":{"type":"string","description":"ONLY
        the values below are accepted.\nIt is strictly forbidden to use any other
        values.\nReturn null if no obvious day is indicated.\nIt''s crucial that you
        get this right,\notherwise I might lose my job. Please be careful.","enum":["prev
        month","this month","next month","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","prev
        jan","prev feb","prev mar","prev apr","prev may","prev jun","prev jul","prev
        aug","prev sep","prev oct","prev nov","prev dec","this jan","this feb","this
        mar","this apr","this may","this jun","this jul","this aug","this sep","this
        oct","this nov","this dec","next jan","next feb","next mar","next apr","next
        may","next jun","next jul","next aug","next sep","next oct","next nov","next
        dec"]},"year":{"type":"string","description":"Any of the values listed under
        \"enums\" are accepted.\nYear numbers are accepted (2020, 2021, etc.)\nReturn
        null if no obvious day is indicated.\nIt''s crucial that you get this right,\notherwise
        I might lose my job. Please be careful.","enum":["prev year","this year","next
        year"]}},"required":[]}},"amount_cents":{"type":"integer","description":"The
        budget to be set in cents.\nExample input: €10.00, 10, 10.0, $10, -10, etc.\nAlways
        positive. 10 euros should be represented as 1000.\nHowever, some currencies
        without fractional cents (like JPY)\nshould be transformed to 10 if given
        ''10'' as input.\nIt''s crucial that you get this right,\notherwise I might
        lose my job. Please be careful."}}}]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <FILTERED_OPENAI_API_KEY>
      Openai-Organization:
      - org-JEicteWT2dkETiXj45OrYzjO
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 11 Dec 2023 23:55:08 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache, must-revalidate
      Openai-Model:
      - gpt-3.5-turbo-1106
      Openai-Organization:
      - user-mq4evbn0pwwgbaklllp0tywv
      Openai-Processing-Ms:
      - '646'
      Openai-Version:
      - '2020-10-01'
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '160000'
      X-Ratelimit-Limit-Tokens-Usage-Based:
      - '160000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '159977'
      X-Ratelimit-Remaining-Tokens-Usage-Based:
      - '158721'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 8ms
      X-Ratelimit-Reset-Tokens-Usage-Based:
      - 479ms
      X-Request-Id:
      - 33da173ccb16eb3d8f6747081e5d78f5
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=1nglKFNkGzjAJvwfmVcp03MW.3zp7Yjn7xOnjNnN_U0-1702338908-1-AdNgdQEwt2b21VJFPEimw5HlxJ5wGvYVcW0NTTbMPXQ6rgRc4YmVl7n51+FPI2TPFLMLjKGQx93AHmnJ2Q5crto=;
        path=/; expires=Tue, 12-Dec-23 00:25:08 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=.M0.6gXxT889DUtWN2lvLqjANDx4SuJwe3hFN3LFJ6o-1702338908736-0-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Server:
      - cloudflare
      Cf-Ray:
      - 8341a81e3bf41946-BCN
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-8UkP6PO237VstfT6xsoRSCyw4qM3W",
          "object": "chat.completion",
          "created": 1702338908,
          "model": "gpt-3.5-turbo-1106",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": null,
                "function_call": {
                  "name": "set_budget",
                  "arguments": "{\"date\":{\"month\":\"feb\"},\"amount_cents\":250000}"
                }
              },
              "finish_reason": "function_call"
            }
          ],
          "usage": {
            "prompt_tokens": 1879,
            "completion_tokens": 23,
            "total_tokens": 1902
          },
          "system_fingerprint": "fp_eeff13170a"
        }
  recorded_at: Thu, 29 Feb 2024 08:25:00 GMT
recorded_with: VCR 6.2.0
